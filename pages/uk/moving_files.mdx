---
title: "18. Переміщення файлів"
---

### Цілі

- Навчитися переміщати файли в межах репозиторія.

Я задоволений нашими змінами CSS, але є лише одна річ, яку я хотів би вирішити, перш ніж ми зіллємо наші зміни в `main`. Давайте перейменуємо файл `hello.html` на `index.html`. Також перемістимо наш файл стилів у окрему директорію `css`.

## _01_ Перегляд історії змін конкретного файлу

Git дозволяє переглядати історію змін певного файлу. Подивімося історію змін файлу `hello.html` перед тим, як його перейменувати.

<Run>
```
git log hello.html
git log style.css
```
</Run>

<Output>
```git
==include[output/20-01.txt]
```
</Output>

## _02_ Перегляд різниці між версіями певного файлу

Можливість перегляду історії змін певного файлу є дуже зручною. Вона дозволяє побачити, що саме змінилося, а також хто і коли вніс ці зміни. Також можна побачити зміни, пов'язані з конкретним комітом. Я постійно користуюся цим, аби розібратися, чому якусь штуку було реалізовано саме таким чином у теперішній версії коду.

Команда `show` використовується для перегляду змін у конкретному коміті. Давайте подивимося зміни у файлі `hello.html` в коміті з тегом `v1` (ви можете використовувати будь-яке посилання на коміт, наприклад, позначку `HEAD`, хеш коміту, назву тегу або гілки тощо).

<Run>
```
git show v1
```
</Run>

<Output>
```git
==include[output/20-02.txt]
```
</Output>

## _03_ Перейменуйте `hello.html`.

Як бачите, дуже зручно мати можливість бачити історію змін певного файлу. Але коли ви перейменовуєте або переміщуєте щось, є ризик втратити цю історію, якщо ви виконаєте цю операцію неправильно.

Давайте перейменуємо наш файл `hello.html` на `index.html` за допомогою стандартної команди `mv` і подивимося, що станеться.

<Run>
```
mv hello.html index.html
git status
```
</Run>

<Output>
```git
==include[output/20-03.txt]
```
</Output>

Git розуміє нашу зміну так, ніби файл було видалено і створено новий. Це тривожний знак. Нам потрібно повідомити Git, що ми саме перейменували файл, а не видалили та створили новий. Але в простих ситуаціях Git сам зрозуміє, що файл було перейменовано, щойно ми додамо його до індексу:

<Run>
```
git add .
git status
```
</Run>

<Output>
```git
==include[output/20-04.txt]
```
</Output>

Бачите, файл вказано як перейменований. Однак це Git просто намагається виглядати розумним. Це не завжди спрацьовує. Наприклад, якщо ви перейменували **та** змінили декілька файлів, Git може не розібратися, що саме було перейменовано. У цьому випадку ви можете втратити інформацію про історію файлу перед перейменуванням, оскільки файл буде вважатися щойно доданим.


## _04_ Безпечне переміщення файлу `style.css

У більшості операційних систем перейменування і переміщення файлів — це одне і те ж саме. Отже, давайте перемістимо наш файл `style.css` до директорії `css`, але цього разу зробимо це безпечно за допомогою команди `git mv`. Ця команда гарантує, що переміщення буде записано в історії Git як переміщення.

<Run>
```
mkdir css
git mv style.css css/style.css
git status
```
</Run>

<Output>
```git
==include[output/20-05.txt]
```
</Output>

Давайте закомітимо наші зміни і перевіримо історію змін у файлі `css/styles.css`. Нам потрібно буде додати опцію `--follow`, щоб побачити історію файлу до того, як він був переміщений. Запустимо обидва варіанти команди, щоб побачити різницю.

<Run>
```
git commit -m "Renamed hello.html; moved style.css"
git log css/style.css
git log --follow css/style.css
```
</Run>

<Output>
```git
==include[output/20-06.txt]
```
</Output>