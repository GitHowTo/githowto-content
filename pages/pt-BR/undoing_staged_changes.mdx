---
title: "13. Descartando mudanças no stage (antes do commit)"
---

### Metas

- Aprender como desfazer mudanças que já estão no stage.

## _01_ Edite o arquivo e adicione as mudanças ao stage

Faça mudanças ao arquivo `hello.html` na forma de um comentário indesejado.

<File file="hello.html">
```html
<html>
  <head>
    →<!-- This is an unwanted but staged comment -->←
  </head>
  <body>
    <h1>Hello, World!</h1>
  </body>
</html>
```
</File>

Adicione o arquivo modificado ao stage.

<Run>
```
git add hello.html
```
</Run>

## _02_ Verifique o status

Verifique o status da mudança indesejada.

<Run>
```
git status
```
</Run>

<Output>
```git
==include[output/13-01.txt]
```
</Output>

O status mostra que a mudança está no stage e pronta para um commit;

## _03_ Restaurar o índice

O comando `restore` com o sinalizador `--staged` limpa a área de preparação.

<Run>
```
git restore --staged hello.html
```
</Run>

<Output>
```git
==include[output/13-02.txt]
```
</Output>

O comando `restore` com a opção `--staged` não altera o diretório de trabalho. Portanto, o diretório de trabalho ainda contém comentários indesejados. No entanto, você deve ter cuidado, pois o comando `restore` sem o sinalizador `--staged` também eliminará as alterações no diretório de trabalho.

## _04_ Mudar para o estado do último commit

Vamos restaurar nossa árvore de trabalho para o estado do último commit.

<Run>
```
git restore hello.html
git status
```
</Run>

<Output>
```git
==include[output/13-03.txt]
```
</Output>

Nosso diretório de trabalho está limpo novamente.
