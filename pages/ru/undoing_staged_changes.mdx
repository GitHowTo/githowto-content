---
title: "13. Отмена проиндексированных изменений (перед коммитом)"
---

### Цели

- Научиться отменять изменения, которые были проиндексированы.

## _01_ Измените файл и проиндексируйте изменения

Внесите изменение в файл `hello.html` в виде нежелательного комментария

<File file="hello.html">
```html
<html>
  <head>
    →<!-- This is an unwanted but staged comment -->←
  </head>
  <body>
    <h1>Hello, World!</h1>
  </body>
</html>
```
</File>

Проиндексируйте это изменение.

<Run>
```
git add hello.html
```
</Run>

## _02_ Проверьте состояние

Проверьте состояние нежелательного изменения.

<Run>
```
git status
```
</Run>

<Output>
```git
==include[output/13-01.txt]
```
</Output>

Состояние показывает, что изменение было проиндексировано и готово к коммиту.

## _03_ Восстановление индекса

Команда `restore` с флагом `--staged` очищает индекс.

<Run>
```
git restore --staged hello.html
```
</Run>

<Output>
```git
==include[output/13-02.txt]
```
</Output>

Команда `restore` с опцией `--staged` не изменяет фактические файлы в рабочем каталоге. Поэтому hello.html по-прежнему содержит ненужные комментарии. Однако следует быть осторожным, поскольку команда `restore` без флага `--staged` также сбросит изменения в рабочем каталоге.

## _04_ Восстановление рабочего каталога

Давайте восстановим наш файл до состояния последнего коммита.

<Run>
```
git restore hello.html
git status
```
</Run>

<Output>
```git
==include[output/13-03.txt]
```
</Output>

Наша рабочая директория опять чиста.
